import{i as j,a as r,j as e}from"./index-fIXkcG0q.js";import{X as w}from"./index.es-Bvx8zBbk.js";import{a as o,c as l}from"./index.esm-Cme2ool-.js";import{S as i}from"./sweetalert2.esm.all-BQxta0Da.js";import{a as p}from"./axios-B17pQD9q.js";import{C as m,a as d}from"./CRow-B962IMet.js";import{C as y,a as A}from"./CCardBody-CRtrtls-.js";import{C as k}from"./CCardHeader-Nag4upoQ.js";import{C as S}from"./CFormInput-RZ7mtaEn.js";import{c as B}from"./DefaultLayout-BU91WUCq.js";import{c as _}from"./cil-trash-CBbKHhHb.js";import"./CFormControlWrapper-wuPxfQED.js";import"./CFormControlValidation-Cldlh3vc.js";import"./CFormLabel-BxnjwlR-.js";import"./cil-user-Ddrdy7PS.js";const b=()=>p.get("/assets"),v=t=>p.delete(`/assets/${t}`),K=()=>{const t=j(),[h,u]=r.useState([]),[a,x]=r.useState(""),n=async()=>{try{const s=await b();u(s.data)}catch{i.fire("Error","Gagal mengambil data asset","error")}};r.useEffect(()=>{n()},[]);const C=async s=>{(await i.fire({title:"Yakin hapus?",text:"Asset akan dihapus permanen",icon:"warning",showCancelButton:!0,confirmButtonText:"Ya, hapus",cancelButtonText:"Batal"})).isConfirmed&&(await v(s),i.fire("Berhasil","Asset berhasil dihapus","success"),n())},f=h.filter(s=>s.asset_code.toLowerCase().includes(a.toLowerCase())||s.rfid_tag.toLowerCase().includes(a.toLowerCase())||s.part_name.toLowerCase().includes(a.toLowerCase())),g=[{name:"No",cell:(s,c)=>c+1,width:"70px"},{name:"RFID",selector:s=>s.rfid_tag},{name:"Kode Asset",selector:s=>s.asset_code},{name:"Part",selector:s=>s.part_name},{name:"Packaging",selector:s=>s.packaging_name},{name:"Status",selector:s=>s.status},{name:"Aksi",cell:s=>e.jsxs(e.Fragment,{children:[e.jsx(o,{size:"sm",color:"warning",className:"me-2",onClick:()=>t(`/assets/edit/${s.id}`),children:e.jsx(l,{icon:B})}),e.jsx(o,{size:"sm",color:"danger",onClick:()=>C(s.id),children:e.jsx(l,{icon:_})})]})}];return e.jsx(m,{children:e.jsx(d,{xs:12,children:e.jsxs(y,{children:[e.jsx(k,{children:e.jsx("strong",{children:"Data Assets"})}),e.jsxs(A,{children:[e.jsx(o,{color:"primary",onClick:()=>t("/assets/add"),children:"+ Tambah"}),e.jsx(m,{className:"mb-3",children:e.jsx(d,{xs:12,md:4,className:"ms-auto",children:e.jsx(S,{className:"my-3",placeholder:"Cari asset...",value:a,onChange:s=>x(s.target.value)})})}),e.jsx(w,{columns:g,data:f,pagination:!0,striped:!0,highlightOnHover:!0,responsive:!0,customStyles:{rows:{style:{minHeight:"56px"}},cells:{style:{paddingTop:"12px",paddingBottom:"12px",fontSize:"14px"}},headRow:{style:{backgroundColor:"#007bff"}},headCells:{style:{color:"white",fontWeight:"600",fontSize:"14px"}}}})]})]})})})};export{K as default};
