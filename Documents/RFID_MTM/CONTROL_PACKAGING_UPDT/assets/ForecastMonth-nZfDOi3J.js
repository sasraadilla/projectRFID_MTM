import{i as C,a as l,R as f,j as a}from"./index-fIXkcG0q.js";import{S as o}from"./sweetalert2.esm.all-BQxta0Da.js";import{a as m}from"./axios-B17pQD9q.js";import{C as j,a as b}from"./CRow-B962IMet.js";import{C as v,a as g}from"./CCardBody-CRtrtls-.js";import{C as y}from"./CCardHeader-Nag4upoQ.js";import{C as F}from"./CForm-DqBs6qy4.js";import{C as s}from"./CFormLabel-BxnjwlR-.js";import{C as B}from"./CFormSelect-2df0xZQG.js";import{C as n}from"./CFormInput-RZ7mtaEn.js";import{a as c}from"./index.esm-Cme2ool-.js";import"./CFormControlWrapper-wuPxfQED.js";import"./CFormControlValidation-Cldlh3vc.js";const I=()=>{const i=C(),[h,d]=l.useState([]),[r,p]=l.useState({part_id:"",bulan:"",tahun:"",forecast_month:""});f.useEffect(()=>{m.get("/parts").then(e=>d(e.data)).catch(()=>o.fire("Error","Gagal load part","error"))},[]);const t=e=>{p({...r,[e.target.name]:e.target.value})},u=async e=>{e.preventDefault();try{await m.post("/forecast/month",r),o.fire({icon:"success",title:"Berhasil!",text:"Forecast bulanan tersimpan",timer:1500,showConfirmButton:!1}).then(()=>i("/forecast/input"))}catch(x){o.fire("Gagal",x.response?.data?.message||"Gagal simpan forecast bulanan","error")}};return a.jsx(j,{children:a.jsx(b,{xs:6,children:a.jsxs(v,{children:[a.jsx(y,{children:"Tambah Forecast Bulanan"}),a.jsx(g,{children:a.jsxs(F,{onSubmit:u,children:[a.jsxs("div",{className:"mb-3",children:[a.jsx(s,{children:"Part"}),a.jsxs(B,{name:"part_id",value:r.part_id,onChange:t,children:[a.jsx("option",{value:"",children:"Pilih Part"}),h.map(e=>a.jsxs("option",{value:e.id,children:[e.part_number," - ",e.part_name]},e.id))]})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx(s,{children:"Bulan"}),a.jsx(n,{type:"text",name:"bulan",value:r.bulan,onChange:t,placeholder:"Contoh: Nov"})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx(s,{children:"Tahun"}),a.jsx(n,{type:"text",name:"tahun",value:r.tahun,onChange:t,placeholder:"Contoh: 2025"})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx(s,{children:"Forecast Bulanan (pcs)"}),a.jsx(n,{type:"number",name:"forecast_month",value:r.forecast_month,onChange:t,placeholder:"Masukkan forecast"})]}),a.jsx(c,{type:"submit",color:"primary",className:"me-2",children:"Simpan"}),a.jsx(c,{color:"secondary",onClick:()=>i("/forecast"),children:"Batal"})]})})]})})})};export{I as default};
