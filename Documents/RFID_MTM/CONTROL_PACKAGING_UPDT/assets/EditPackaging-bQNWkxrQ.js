import{i as f,E as j,a as t,j as a}from"./index-fIXkcG0q.js";import{a as c}from"./axios-B17pQD9q.js";import{S as r}from"./sweetalert2.esm.all-BQxta0Da.js";import{C as y,a as _}from"./CRow-B962IMet.js";import{C as w,a as b}from"./CCardBody-CRtrtls-.js";import{C as v}from"./CCardHeader-Nag4upoQ.js";import{C as S}from"./CForm-DqBs6qy4.js";import{C as o}from"./CFormLabel-BxnjwlR-.js";import{C as p}from"./CFormInput-RZ7mtaEn.js";import{C as E}from"./CFormSelect-2df0xZQG.js";import{a as l}from"./index.esm-Cme2ool-.js";import"./CFormControlWrapper-wuPxfQED.js";import"./CFormControlValidation-Cldlh3vc.js";const q=()=>{const g=f(),{id:n}=j(),[d,h]=t.useState([]),[i,m]=t.useState({packaging_name:"",packaging_type_id:"",warna:""}),k=async()=>{try{const e=await c.get("/packaging-types");h(e.data)}catch{r.fire("Error","Gagal mengambil data packaging type","error")}},u=async()=>{try{const e=await c.get(`/packagings/${n}`);m({packaging_name:e.data.packaging_name,packaging_type_id:e.data.packaging_type_id,warna:e.data.warna})}catch{r.fire("Error","Gagal mengambil data packaging","error")}};t.useEffect(()=>{k(),u()},[n]);const s=e=>{m({...i,[e.target.name]:e.target.value})},x=async e=>{if(e.preventDefault(),!i.packaging_name||!i.packaging_type_id||!i.warna){r.fire("Warning","Semua field wajib diisi","warning");return}try{await c.put(`/packagings/${n}`,i),r.fire({icon:"success",title:"Berhasil",text:"Packaging berhasil diperbarui",timer:1500,showConfirmButton:!1}).then(()=>g("/packaging"))}catch(C){r.fire("Gagal",C.response?.data?.message||"Gagal update packaging","error")}};return a.jsx(y,{children:a.jsx(_,{xs:6,children:a.jsxs(w,{className:"mb-4",children:[a.jsx(v,{children:a.jsx("strong",{className:"fs-5",children:"Edit Packaging"})}),a.jsx(b,{children:a.jsxs(S,{onSubmit:x,children:[a.jsxs("div",{className:"mb-3",children:[a.jsx(o,{children:"Nama Packaging"}),a.jsx(p,{name:"packaging_name",value:i.packaging_name,onChange:s})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx(o,{children:"Type Packaging"}),a.jsxs(E,{name:"packaging_type_id",value:i.packaging_type_id,onChange:s,children:[a.jsx("option",{value:"",children:"Pilih Type"}),d.map(e=>a.jsx("option",{value:e.id,children:e.type_name},e.id))]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx(o,{children:"Warna"}),a.jsx(p,{name:"warna",value:i.warna,onChange:s})]}),a.jsxs("div",{children:[a.jsx(l,{type:"submit",color:"primary",className:"me-2",children:"Simpan"}),a.jsx(l,{color:"secondary",onClick:()=>g("/packaging"),children:"Batal"})]})]})})]})})})};export{q as default};
