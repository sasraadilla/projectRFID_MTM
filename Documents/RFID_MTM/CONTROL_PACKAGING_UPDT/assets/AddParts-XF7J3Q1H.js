import{i as j,a as m,j as a}from"./index-fIXkcG0q.js";import{a as c}from"./axios-B17pQD9q.js";import{S as o}from"./sweetalert2.esm.all-BQxta0Da.js";import{C as f,a as g}from"./CRow-B962IMet.js";import{C as b,a as v}from"./CCardBody-CRtrtls-.js";import{C as _}from"./CCardHeader-Nag4upoQ.js";import{C as k}from"./CForm-DqBs6qy4.js";import{C as t}from"./CFormLabel-BxnjwlR-.js";import{C as n}from"./CFormInput-RZ7mtaEn.js";import{C as y}from"./CFormSelect-2df0xZQG.js";import{a as l}from"./index.esm-Cme2ool-.js";import"./CFormControlWrapper-wuPxfQED.js";import"./CFormControlValidation-Cldlh3vc.js";const D=()=>{const i=j(),[d,p]=m.useState([]),[r,h]=m.useState({part_number:"",part_name:"",customer_id:"",qty_per_pack:"",keterangan:""}),u=async()=>{try{const e=await c.get("/customers");p(e.data)}catch{o.fire("Error","Gagal mengambil data customer","error")}};m.useEffect(()=>{u()},[]);const s=e=>{h({...r,[e.target.name]:e.target.value})},x=async e=>{e.preventDefault();try{await c.post("/parts",r),o.fire({icon:"success",title:"Berhasil!",text:"Part berhasil ditambahkan",timer:1500,showConfirmButton:!1}).then(()=>i("/parts"))}catch(C){o.fire("Gagal",C.response?.data?.message||"Gagal menambah part","error")}};return a.jsx(f,{children:a.jsx(g,{xs:6,children:a.jsxs(b,{className:"mb-4",children:[a.jsx(_,{children:a.jsx("strong",{className:"fs-5",children:"Tambah Part"})}),a.jsx(v,{children:a.jsxs(k,{onSubmit:x,children:[a.jsxs("div",{className:"mb-3",children:[a.jsx(t,{children:"Part Number"}),a.jsx(n,{name:"part_number",placeholder:"Masukkan part number",value:r.part_number,onChange:s})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx(t,{children:"Part Name"}),a.jsx(n,{name:"part_name",placeholder:"Masukkan nama part",value:r.part_name,onChange:s})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx(t,{children:"Customer"}),a.jsxs(y,{name:"customer_id",value:r.customer_id,onChange:s,children:[a.jsx("option",{value:"",children:"Pilih Customer"}),d.map(e=>a.jsxs("option",{value:e.id,children:[e.customer_code," - ",e.customer_name]},e.id))]})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx(t,{children:"Qty per Pack"}),a.jsx(n,{type:"number",name:"qty_per_pack",placeholder:"Masukkan qty per pack",value:r.qty_per_pack,onChange:s})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx(t,{children:"Keterangan"}),a.jsx(n,{name:"keterangan",placeholder:"Keterangan",value:r.keterangan,onChange:s})]}),a.jsxs("div",{children:[a.jsx(l,{type:"submit",color:"primary",className:"me-2",children:"Simpan"}),a.jsx(l,{color:"secondary",onClick:()=>i("/parts"),children:"Batal"})]})]})})]})})})};export{D as default};
