import{i as j,a as o,j as e}from"./index-fIXkcG0q.js";import{X as w}from"./index.es-Bvx8zBbk.js";import{a as r,c as m}from"./index.esm-Cme2ool-.js";import{a as l}from"./axios-B17pQD9q.js";import{S as a}from"./sweetalert2.esm.all-BQxta0Da.js";import{C as d,a as u}from"./CRow-B962IMet.js";import{C as y,a as B}from"./CCardBody-CRtrtls-.js";import{C as S}from"./CCardHeader-Nag4upoQ.js";import{C as k}from"./CFormInput-RZ7mtaEn.js";import{c as N}from"./DefaultLayout-BU91WUCq.js";import{c as v}from"./cil-trash-CBbKHhHb.js";import"./CFormControlWrapper-wuPxfQED.js";import"./CFormControlValidation-Cldlh3vc.js";import"./CFormLabel-BxnjwlR-.js";import"./cil-user-Ddrdy7PS.js";const G=()=>{const i=j(),[p,C]=o.useState([]),[t,h]=o.useState(""),c=async()=>{try{const s=await l.get("/customers");C(s.data)}catch{a.fire("Error","Gagal mengambil data customer","error")}};o.useEffect(()=>{c()},[]);const x=async s=>{(await a.fire({title:"Yakin hapus?",text:"Customer akan dihapus permanen",icon:"warning",showCancelButton:!0,confirmButtonText:"Ya, hapus",cancelButtonText:"Batal"})).isConfirmed&&(await l.delete(`/customers/${s}`),a.fire("Berhasil","Customer dihapus","success"),c())},f=p.filter(s=>s.customer_name.toLowerCase().includes(t.toLowerCase())||s.customer_code.toLowerCase().includes(t.toLowerCase())),g=[{name:"No",cell:(s,n)=>n+1,width:"70px"},{name:"Kode",selector:s=>s.customer_code},{name:"Nama Customer",selector:s=>s.customer_name},{name:"Aksi",cell:s=>e.jsxs(e.Fragment,{children:[e.jsx(r,{size:"sm",color:"warning",className:"me-2",onClick:()=>i(`/customer/edit/${s.id}`),children:e.jsx(m,{icon:N})}),e.jsx(r,{size:"sm",color:"danger",onClick:()=>x(s.id),children:e.jsx(m,{icon:v})})]})}];return e.jsx(d,{children:e.jsx(u,{xs:12,children:e.jsxs(y,{children:[e.jsx(S,{children:e.jsx("strong",{children:"Data Customer"})}),e.jsxs(B,{children:[e.jsx(r,{color:"primary",onClick:()=>i("/customer/add"),children:"+ Tambah"}),e.jsx(d,{className:"mb-3",children:e.jsx(u,{xs:12,md:4,className:"ms-auto",children:e.jsx(k,{className:"my-3",placeholder:"Cari customer...",value:t,onChange:s=>h(s.target.value)})})}),e.jsx(w,{columns:g,data:f,pagination:!0,striped:!0,highlightOnHover:!0,responsive:!0,customStyles:{rows:{style:{minHeight:"56px"}},cells:{style:{paddingTop:"12px",paddingBottom:"12px",fontSize:"14px"}},headRow:{style:{backgroundColor:"#007bff"}},headCells:{style:{color:"white",fontWeight:"600",fontSize:"14px"}}}})]})]})})})};export{G as default};
