import{i as C,a as i,j as a}from"./index-fIXkcG0q.js";import{a as o}from"./axios-B17pQD9q.js";import{S as r}from"./sweetalert2.esm.all-BQxta0Da.js";import{C as f,a as u}from"./CRow-B962IMet.js";import{C as j,a as y}from"./CCardBody-CRtrtls-.js";import{C as b}from"./CCardHeader-Nag4upoQ.js";import{C as v}from"./CForm-DqBs6qy4.js";import{C as t}from"./CFormLabel-BxnjwlR-.js";import{C as m}from"./CFormInput-RZ7mtaEn.js";import{C as _}from"./CFormSelect-2df0xZQG.js";import{a as g}from"./index.esm-Cme2ool-.js";import"./CFormControlWrapper-wuPxfQED.js";import"./CFormControlValidation-Cldlh3vc.js";const D=()=>{const c=C(),[l,p]=i.useState([]),[n,d]=i.useState({packaging_name:"",packaging_type_id:"",warna:""}),h=async()=>{try{const e=await o.get("/packaging-types");p(e.data)}catch{r.fire("Error","Gagal mengambil data packaging type","error")}};i.useEffect(()=>{h()},[]);const s=e=>{d({...n,[e.target.name]:e.target.value})},k=async e=>{if(e.preventDefault(),!n.packaging_name||!n.packaging_type_id||!n.warna){r.fire("Warning","Semua field wajib diisi","warning");return}try{await o.post("/packagings",n),r.fire({icon:"success",title:"Berhasil",text:"Packaging berhasil ditambahkan",timer:1500,showConfirmButton:!1}).then(()=>c("/packaging"))}catch(x){r.fire("Gagal",x.response?.data?.message||"Gagal menambah packaging","error")}};return a.jsx(f,{children:a.jsx(u,{xs:6,children:a.jsxs(j,{className:"mb-4",children:[a.jsx(b,{children:a.jsx("strong",{className:"fs-5",children:"Tambah Packaging"})}),a.jsx(y,{children:a.jsxs(v,{onSubmit:k,children:[a.jsxs("div",{className:"mb-3",children:[a.jsx(t,{children:"Nama Packaging"}),a.jsx(m,{name:"packaging_name",placeholder:"Masukkan nama packaging",value:n.packaging_name,onChange:s})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx(t,{children:"Type Packaging"}),a.jsxs(_,{name:"packaging_type_id",value:n.packaging_type_id,onChange:s,children:[a.jsx("option",{value:"",children:"Pilih Type"}),l.map(e=>a.jsx("option",{value:e.id,children:e.type_name},e.id))]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx(t,{children:"Warna"}),a.jsx(m,{name:"warna",placeholder:"Masukkan warna packaging",value:n.warna,onChange:s})]}),a.jsxs("div",{children:[a.jsx(g,{type:"submit",color:"primary",className:"me-2",children:"Simpan"}),a.jsx(g,{color:"secondary",onClick:()=>c("/packaging"),children:"Batal"})]})]})})]})})})};export{D as default};
