import{i as j,a as s,j as a}from"./index-fIXkcG0q.js";import{X as w}from"./index.es-Bvx8zBbk.js";import{a as t,c as l}from"./index.esm-Cme2ool-.js";import{a as d}from"./axios-B17pQD9q.js";import{S as o}from"./sweetalert2.esm.all-BQxta0Da.js";import{C as m,a as p}from"./CRow-B962IMet.js";import{C as y,a as R}from"./CCardBody-CRtrtls-.js";import{C as k}from"./CCardHeader-Nag4upoQ.js";import{C as B}from"./CFormInput-RZ7mtaEn.js";import{c as S}from"./DefaultLayout-BU91WUCq.js";import{c as L}from"./cil-trash-CBbKHhHb.js";import"./CFormControlWrapper-wuPxfQED.js";import"./CFormControlValidation-Cldlh3vc.js";import"./CFormLabel-BxnjwlR-.js";import"./cil-user-Ddrdy7PS.js";const G=()=>{const i=j(),[h,u]=s.useState([]),[r,x]=s.useState(""),n=async()=>{try{const e=await d.get("/readers");u(e.data)}catch{o.fire("Error","Gagal mengambil data reader","error")}};s.useEffect(()=>{n()},[]);const C=async e=>{(await o.fire({title:"Yakin hapus?",text:"Reader akan dihapus permanen",icon:"warning",showCancelButton:!0,confirmButtonText:"Ya, hapus",cancelButtonText:"Batal"})).isConfirmed&&(await d.delete(`/readers/${e}`),o.fire("Berhasil","Reader dihapus","success"),n())},f=h.filter(e=>e.reader_name.toLowerCase().includes(r.toLowerCase())||e.reader_code.toLowerCase().includes(r.toLowerCase())||e.location.toLowerCase().includes(r.toLowerCase())),g=[{name:"No",cell:(e,c)=>c+1,width:"70px"},{name:"Kode Reader",selector:e=>e.reader_code},{name:"Nama Reader",selector:e=>e.reader_name},{name:"Lokasi",selector:e=>e.location},{name:"Aksi",cell:e=>a.jsxs(a.Fragment,{children:[a.jsx(t,{size:"sm",color:"warning",className:"me-2",onClick:()=>i(`/reader/edit/${e.id}`),children:a.jsx(l,{icon:S})}),a.jsx(t,{size:"sm",color:"danger",onClick:()=>C(e.id),children:a.jsx(l,{icon:L})})]})}];return a.jsx(m,{children:a.jsx(p,{xs:12,children:a.jsxs(y,{children:[a.jsx(k,{children:a.jsx("strong",{children:"Data Reader"})}),a.jsxs(R,{children:[a.jsx(t,{color:"primary",onClick:()=>i("/reader/add"),children:"+ Tambah"}),a.jsx(m,{className:"mb-3",children:a.jsx(p,{xs:12,md:4,className:"ms-auto",children:a.jsx(B,{className:"my-3",placeholder:"Cari reader...",value:r,onChange:e=>x(e.target.value)})})}),a.jsx(w,{columns:g,data:f,pagination:!0,striped:!0,highlightOnHover:!0,responsive:!0,customStyles:{rows:{style:{minHeight:"56px"}},cells:{style:{paddingTop:"12px",paddingBottom:"12px",fontSize:"14px"}},headRow:{style:{backgroundColor:"#007bff"}},headCells:{style:{color:"white",fontWeight:"600",fontSize:"14px"}}}})]})]})})})};export{G as default};
