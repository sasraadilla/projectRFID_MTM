import{i as g,a as t,j as e}from"./index-fIXkcG0q.js";import{X as k}from"./index.es-Bvx8zBbk.js";import{a as s,c}from"./index.esm-Cme2ool-.js";import{a as d}from"./axios-B17pQD9q.js";import{S as o}from"./sweetalert2.esm.all-BQxta0Da.js";import{C as m,a as h}from"./CRow-B962IMet.js";import{C as w,a as y}from"./CCardBody-CRtrtls-.js";import{C as B}from"./CCardHeader-Nag4upoQ.js";import{C as S}from"./CFormInput-RZ7mtaEn.js";import{c as b}from"./DefaultLayout-BU91WUCq.js";import{c as v}from"./cil-trash-CBbKHhHb.js";import"./CFormControlWrapper-wuPxfQED.js";import"./CFormControlValidation-Cldlh3vc.js";import"./CFormLabel-BxnjwlR-.js";import"./cil-user-Ddrdy7PS.js";const A=()=>{const n=g(),[u,p]=t.useState([]),[r,x]=t.useState(""),i=async()=>{try{const a=await d.get("/kalender-kerja");p(a.data)}catch{o.fire("Error","Gagal mengambil data kalender kerja","error")}};t.useEffect(()=>{i()},[]);const j=async a=>{(await o.fire({title:"Yakin hapus?",text:"Data kalender kerja akan dihapus",icon:"warning",showCancelButton:!0,confirmButtonText:"Ya, hapus",cancelButtonText:"Batal"})).isConfirmed&&(await d.delete(`/kalender-kerja/${a}`),o.fire("Berhasil","Data dihapus","success"),i())},f=u.filter(a=>a.bulan.toLowerCase().includes(r.toLowerCase())||a.tahun.toString().includes(r)),C=[{name:"No",cell:(a,l)=>l+1,width:"70px"},{name:"Bulan",selector:a=>a.bulan},{name:"Tahun",selector:a=>a.tahun},{name:"Hari Kerja",selector:a=>a.hari_kerja},{name:"Aksi",cell:a=>e.jsxs(e.Fragment,{children:[e.jsx(s,{size:"sm",color:"warning",className:"me-2",onClick:()=>n(`/kalender-kerja/edit/${a.id}`),children:e.jsx(c,{icon:b})}),e.jsx(s,{size:"sm",color:"danger",onClick:()=>j(a.id),children:e.jsx(c,{icon:v})})]})}];return e.jsx(m,{children:e.jsx(h,{xs:12,children:e.jsxs(w,{children:[e.jsx(B,{children:e.jsx("strong",{children:"Kalender Kerja"})}),e.jsxs(y,{children:[e.jsx(s,{color:"primary",onClick:()=>n("/kalender-kerja/add"),children:"+ Tambah"}),e.jsx(m,{className:"mb-3",children:e.jsx(h,{xs:12,md:4,className:"ms-auto",children:e.jsx(S,{className:"my-3",placeholder:"Cari bulan / tahun...",value:r,onChange:a=>x(a.target.value)})})}),e.jsx(k,{columns:C,data:f,pagination:!0,striped:!0,highlightOnHover:!0,responsive:!0,customStyles:{rows:{style:{minHeight:"56px"}},cells:{style:{paddingTop:"12px",paddingBottom:"12px",fontSize:"14px"}},headRow:{style:{backgroundColor:"#007bff"}},headCells:{style:{color:"white",fontWeight:"600",fontSize:"14px"}}}})]})]})})})};export{A as default};
