import{i as h,a as p,j as a}from"./index-fIXkcG0q.js";import{a as u}from"./axios-B17pQD9q.js";import{S as l}from"./sweetalert2.esm.all-BQxta0Da.js";import{C as x,a as j}from"./CRow-B962IMet.js";import{C,a as f}from"./CCardBody-CRtrtls-.js";import{C as v}from"./CCardHeader-Nag4upoQ.js";import{C as g}from"./CForm-DqBs6qy4.js";import{C as r}from"./CFormLabel-BxnjwlR-.js";import{C as o}from"./CFormInput-RZ7mtaEn.js";import{C as b}from"./CFormSelect-2df0xZQG.js";import{a as i}from"./index.esm-Cme2ool-.js";import"./CFormControlWrapper-wuPxfQED.js";import"./CFormControlValidation-Cldlh3vc.js";const L=()=>{const m=h(),[e,t]=p.useState({username:"",name:"",email:"",password:"",role:""}),s=n=>{t({...e,[n.target.name]:n.target.value})},d=async n=>{n.preventDefault();try{await u.post("/users",e),l.fire({icon:"success",title:"Berhasil!",text:"User berhasil ditambahkan",timer:1500,showConfirmButton:!1}).then(()=>{m("/users")})}catch(c){l.fire("Gagal",c.response?.data?.message||"Gagal menambah user","error")}};return a.jsx(x,{children:a.jsx(j,{xs:6,children:a.jsxs(C,{className:"mb-4",children:[a.jsx(v,{children:a.jsx("strong",{className:"fs-5",children:"Tambah User"})}),a.jsx(f,{children:a.jsxs(g,{onSubmit:d,children:[a.jsxs("div",{className:"mb-3",children:[a.jsx(r,{children:"Username"}),a.jsx(o,{name:"username",placeholder:"Masukkan username",value:e.username,onChange:s})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx(r,{children:"Nama Lengkap"}),a.jsx(o,{name:"name",placeholder:"Masukkan nama lengkap",value:e.name,onChange:s})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx(r,{children:"Email"}),a.jsx(o,{type:"email",name:"email",placeholder:"Masukkan email",value:e.email,onChange:s})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx(r,{children:"Password"}),a.jsx(o,{type:"password",name:"password",placeholder:"Masukkan password",value:e.password,onChange:s})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx(r,{children:"Role"}),a.jsxs(b,{name:"role",value:e.role,onChange:s,children:[a.jsx("option",{value:"",children:"Pilih Role"}),a.jsx("option",{value:"admin",children:"Admin"}),a.jsx("option",{value:"operator",children:"Operator"})]})]}),a.jsxs("div",{children:[a.jsx(i,{type:"submit",color:"primary",className:"me-2",children:"Simpan"}),a.jsx(i,{color:"secondary",onClick:()=>m("/users"),children:"Batal"})]})]})})]})})})};export{L as default};
