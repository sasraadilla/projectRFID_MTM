import{i as v,a as n,j as a}from"./index-fIXkcG0q.js";import{a as o}from"./axios-B17pQD9q.js";import{S as c}from"./sweetalert2.esm.all-BQxta0Da.js";import{C as k,a as b}from"./CRow-B962IMet.js";import{C as _,a as N}from"./CCardBody-CRtrtls-.js";import{C as P}from"./CCardHeader-Nag4upoQ.js";import{C as S}from"./CForm-DqBs6qy4.js";import{C as r}from"./CFormLabel-BxnjwlR-.js";import{C as m}from"./CFormInput-RZ7mtaEn.js";import{C as l}from"./CFormSelect-2df0xZQG.js";import{a as h}from"./index.esm-Cme2ool-.js";import"./CFormControlWrapper-wuPxfQED.js";import"./CFormControlValidation-Cldlh3vc.js";const K=()=>{const d=v(),[e,p]=n.useState({rfid_tag:"",asset_code:"",packaging_id:"",part_id:"",status:"in"}),[g,u]=n.useState([]),[x,j]=n.useState([]);n.useEffect(()=>{(async()=>{try{const i=await o.get("/packagings"),f=await o.get("/parts");u(i.data),j(f.data)}catch{c.fire("Error","Gagal memuat data master","error")}})()},[]);const t=s=>{p({...e,[s.target.name]:s.target.value})},C=async s=>{s.preventDefault();try{await o.post("/assets",e),c.fire({icon:"success",title:"Berhasil!",text:"Asset berhasil ditambahkan",timer:1500,showConfirmButton:!1}).then(()=>{d("/assets")})}catch(i){c.fire("Gagal",i.response?.data?.message||"Gagal menambah asset","error")}};return a.jsx(k,{children:a.jsx(b,{xs:6,children:a.jsxs(_,{className:"mb-4",children:[a.jsx(P,{children:a.jsx("strong",{className:"fs-5",children:"Tambah Asset"})}),a.jsx(N,{children:a.jsxs(S,{onSubmit:C,children:[a.jsxs("div",{className:"mb-3",children:[a.jsx(r,{children:"RFID Tag"}),a.jsx(m,{name:"rfid_tag",placeholder:"Masukkan RFID Tag",value:e.rfid_tag,onChange:t})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx(r,{children:"Kode Asset"}),a.jsx(m,{name:"asset_code",placeholder:"Masukkan kode asset",value:e.asset_code,onChange:t})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx(r,{children:"Part"}),a.jsxs(l,{name:"part_id",value:e.part_id,onChange:t,children:[a.jsx("option",{value:"",children:"Pilih Part"}),x.map(s=>a.jsxs("option",{value:s.id,children:[s.part_number," - ",s.part_name]},s.id))]})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx(r,{children:"Packaging"}),a.jsxs(l,{name:"packaging_id",value:e.packaging_id,onChange:t,children:[a.jsx("option",{value:"",children:"Pilih Packaging"}),g.map(s=>a.jsx("option",{value:s.id,children:s.packaging_name},s.id))]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx(r,{children:"Status"}),a.jsxs(l,{name:"status",value:e.status,onChange:t,children:[a.jsx("option",{value:"in",children:"IN"}),a.jsx("option",{value:"out",children:"OUT"})]})]}),a.jsxs("div",{children:[a.jsx(h,{type:"submit",color:"primary",className:"me-2",children:"Simpan"}),a.jsx(h,{color:"secondary",onClick:()=>d("/assets"),children:"Batal"})]})]})})]})})})};export{K as default};
