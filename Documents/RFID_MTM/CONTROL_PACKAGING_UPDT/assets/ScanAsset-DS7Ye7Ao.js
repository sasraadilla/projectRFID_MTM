import{i as C,a as t,j as e}from"./index-fIXkcG0q.js";import{a as c}from"./axios-B17pQD9q.js";import{S as o}from"./sweetalert2.esm.all-BQxta0Da.js";import{C as x,a as u}from"./CRow-B962IMet.js";import{C as j,a as g}from"./CCardBody-CRtrtls-.js";import{C as v}from"./CCardHeader-Nag4upoQ.js";import{C as S}from"./CForm-DqBs6qy4.js";import{C as d}from"./CFormLabel-BxnjwlR-.js";import{C as R}from"./CFormInput-RZ7mtaEn.js";import{C as b}from"./CFormSelect-2df0xZQG.js";import{a as m}from"./index.esm-Cme2ool-.js";import"./CFormControlWrapper-wuPxfQED.js";import"./CFormControlValidation-Cldlh3vc.js";const H=()=>{const i=C(),[r,l]=t.useState({rfid_tag:"",reader_id:""}),[h,p]=t.useState([]);t.useEffect(()=>{(async()=>{try{const s=await c.get("/readers");p(s.data)}catch{o.fire("Error","Gagal mengambil data reader","error")}})()},[]);const n=a=>{l({...r,[a.target.name]:a.target.value})},f=async a=>{a.preventDefault();try{const s=await c.post("/asset-events/scan",r);o.fire({icon:"success",title:"Berhasil!",text:s.data.message,timer:1500,showConfirmButton:!1}).then(()=>{i("/asset-events")})}catch(s){o.fire("Gagal",s.response?.data?.message||"Gagal scan asset","error")}};return e.jsx(x,{children:e.jsx(u,{xs:6,children:e.jsxs(j,{className:"mb-4",children:[e.jsx(v,{children:e.jsx("strong",{className:"fs-5",children:"Scan Asset (IN / OUT)"})}),e.jsx(g,{children:e.jsxs(S,{onSubmit:f,children:[e.jsxs("div",{className:"mb-3",children:[e.jsx(d,{children:"RFID Tag"}),e.jsx(R,{name:"rfid_tag",placeholder:"Tempel / input RFID",value:r.rfid_tag,onChange:n})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(d,{children:"Reader"}),e.jsxs(b,{name:"reader_id",value:r.reader_id,onChange:n,children:[e.jsx("option",{value:"",children:"Pilih Reader"}),h.map(a=>e.jsxs("option",{value:a.id,children:[a.reader_code," - ",a.reader_name]},a.id))]})]}),e.jsxs("div",{children:[e.jsx(m,{type:"submit",color:"primary",className:"me-2",children:"Scan"}),e.jsx(m,{color:"secondary",onClick:()=>i("/asset-events"),children:"Batal"})]})]})})]})})})};export{H as default};
