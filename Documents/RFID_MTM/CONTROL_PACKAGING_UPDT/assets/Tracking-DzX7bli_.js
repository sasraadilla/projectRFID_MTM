import{i as h,a as r,j as t}from"./index-fIXkcG0q.js";import{X as C}from"./index.es-Bvx8zBbk.js";import{a as f}from"./axios-B17pQD9q.js";import{S as x}from"./sweetalert2.esm.all-BQxta0Da.js";import{C as n,a as c}from"./CRow-B962IMet.js";import{C as j,a as k}from"./CCardBody-CRtrtls-.js";import{C as w}from"./CCardHeader-Nag4upoQ.js";import{C as y}from"./CFormInput-RZ7mtaEn.js";import{a as S}from"./index.esm-Cme2ool-.js";import{C as s}from"./DefaultLayout-BU91WUCq.js";import"./CFormControlWrapper-wuPxfQED.js";import"./CFormControlValidation-Cldlh3vc.js";import"./CFormLabel-BxnjwlR-.js";import"./cil-user-Ddrdy7PS.js";const F=()=>{const i=h(),[a,l]=r.useState(""),[m,d]=r.useState([]);r.useEffect(()=>{(async()=>{try{const o=await f.get("/tracking");d(o.data)}catch{x.fire("Error","Gagal mengambil data tracking","error")}})()},[]);const u=m.filter(e=>e.asset_code.toLowerCase().includes(a.toLowerCase())||e.customer_name.toLowerCase().includes(a.toLowerCase())),p=e=>e==="in"?t.jsx(s,{color:"success",children:"IN"}):e==="out"?t.jsx(s,{color:"primary",children:"OUT"}):t.jsx(s,{color:"secondary",children:e}),g=[{name:"RFID",selector:e=>e.rfid_tag},{name:"Asset Code",selector:e=>e.asset_code,sortable:!0},{name:"Packaging",selector:e=>e.packaging_name},{name:"Customer",selector:e=>e.customer_name},{name:"Status",cell:e=>p(e.status),center:!0},{name:"Lokasi Terakhir",selector:e=>e.location},{name:"Last Scan",selector:e=>e.scan_time},{name:"Aksi",cell:e=>t.jsx(S,{size:"sm",color:"info",onClick:()=>i(`/tracking/${e.asset_code}`),children:"Detail"}),center:!0}];return t.jsx(n,{children:t.jsx(c,{xs:12,children:t.jsxs(j,{children:[t.jsx(w,{children:t.jsx("strong",{children:"Tracking Asset"})}),t.jsxs(k,{children:[t.jsx(n,{className:"mb-3",children:t.jsx(c,{md:4,className:"ms-auto",children:t.jsx(y,{placeholder:"Cari asset / customer...",value:a,onChange:e=>l(e.target.value)})})}),t.jsx(C,{columns:g,data:u,pagination:!0,striped:!0,highlightOnHover:!0,responsive:!0,customStyles:{rows:{style:{minHeight:"56px"}},cells:{style:{paddingTop:"12px",paddingBottom:"12px",fontSize:"14px"}},headRow:{style:{backgroundColor:"#007bff"}},headCells:{style:{color:"white",fontWeight:"600",fontSize:"14px"}}}})]})]})})})};export{F as default};
