import{E as j,i as f,a as i,j as e}from"./index-fIXkcG0q.js";import{a as l}from"./axios-B17pQD9q.js";import{S as c}from"./sweetalert2.esm.all-BQxta0Da.js";import{C as _,a as g}from"./CRow-B962IMet.js";import{C as v,a as b}from"./CCardBody-CRtrtls-.js";import{C as y}from"./CCardHeader-Nag4upoQ.js";import{C as S}from"./CForm-DqBs6qy4.js";import{C as s}from"./CFormLabel-BxnjwlR-.js";import{C as L}from"./CFormSelect-2df0xZQG.js";import{C as n}from"./CFormInput-RZ7mtaEn.js";import{a as p}from"./index.esm-Cme2ool-.js";import"./CFormControlWrapper-wuPxfQED.js";import"./CFormControlValidation-Cldlh3vc.js";const I=()=>{const{id:o}=j(),m=f(),[h,u]=i.useState([]),[a,d]=i.useState({part_id:"",lt_production:"",lt_store:"",lt_customer:""});i.useEffect(()=>{l.get("/parts").then(t=>{u(t.data)}),l.get(`/lead-time/${o}`).then(t=>{d({part_id:t.data.part_id,lt_production:t.data.lt_production,lt_store:t.data.lt_store,lt_customer:t.data.lt_customer})})},[o]);const r=t=>{d({...a,[t.target.name]:t.target.value})},C=async t=>{t.preventDefault();try{await l.put(`/lead-time/${o}`,a),c.fire({icon:"success",title:"Berhasil!",text:"Lead time berhasil diperbarui",timer:1500,showConfirmButton:!1}).then(()=>{m("/lead-time")})}catch(x){c.fire("Gagal",x.response?.data?.message||"Gagal update lead time","error")}};return e.jsx(_,{children:e.jsx(g,{xs:6,children:e.jsxs(v,{children:[e.jsx(y,{children:e.jsx("strong",{className:"fs-5",children:"Edit Lead Time"})}),e.jsx(b,{children:e.jsxs(S,{onSubmit:C,children:[e.jsxs("div",{className:"mb-3",children:[e.jsx(s,{children:"Part"}),e.jsxs(L,{name:"part_id",value:a.part_id,onChange:r,children:[e.jsx("option",{value:"",children:"-- Pilih Part --"}),h.map(t=>e.jsx("option",{value:t.id,children:t.part_name},t.id))]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(s,{children:"LT Produksi"}),e.jsx(n,{type:"number",name:"lt_production",placeholder:"Contoh: 5",value:a.lt_production,onChange:r})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(s,{children:"LT Store"}),e.jsx(n,{type:"number",name:"lt_store",placeholder:"Contoh: 10",value:a.lt_store,onChange:r})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(s,{children:"LT Customer"}),e.jsx(n,{type:"number",name:"lt_customer",placeholder:"Contoh: 15",value:a.lt_customer,onChange:r})]}),e.jsxs("div",{children:[e.jsx(p,{type:"submit",color:"primary",className:"me-2",children:"Simpan"}),e.jsx(p,{color:"secondary",onClick:()=>m("/lead-time"),children:"Batal"})]})]})})]})})})};export{I as default};
