import{i as C,a,j as t,C as j}from"./index-fIXkcG0q.js";import{X as w}from"./index.es-Bvx8zBbk.js";import{c as o,a as i}from"./index.esm-Cme2ool-.js";import{S as n}from"./sweetalert2.esm.all-BQxta0Da.js";import{a as d}from"./axios-B17pQD9q.js";import{c as S}from"./cil-layers-B1iR7JfU.js";import{c as _,a as B}from"./cil-search-BgoJf-gK.js";import{C as R,a as W}from"./CCardBody-CRtrtls-.js";import{C as k}from"./CFormInput-RZ7mtaEn.js";import{c as v}from"./DefaultLayout-BU91WUCq.js";import{c as T}from"./cil-trash-CBbKHhHb.js";import"./CFormControlWrapper-wuPxfQED.js";import"./CFormControlValidation-Cldlh3vc.js";import"./CFormLabel-BxnjwlR-.js";import"./cil-user-Ddrdy7PS.js";const q=()=>{const c=C(),[m,x]=a.useState([]),[s,h]=a.useState(""),[f,p]=a.useState(!1),l=a.useCallback(async()=>{p(!0);try{const e=await d.get("/parts");x(e.data)}catch{n.fire("Error","Gagal mengambil data part","error")}finally{p(!1)}},[]);a.useEffect(()=>{const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap",e.rel="stylesheet",document.head.appendChild(e);const r=document.createElement("style");return r.innerHTML="* { font-family: 'Plus Jakarta Sans', sans-serif !important; }",document.head.appendChild(r),l(),()=>{document.head.removeChild(e),document.head.removeChild(r)}},[l]);const u=async e=>{if((await n.fire({title:"Apakah anda yakin?",text:"Data part ini akan dihapus secara permanen!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#ef4444",cancelButtonColor:"#64748b",confirmButtonText:"Ya, Hapus!",cancelButtonText:"Batal",reverseButtons:!0,borderRadius:"15px"})).isConfirmed)try{await d.delete(`/parts/${e}`),n.fire({title:"Berhasil!",text:"Data part telah dihapus.",icon:"success",timer:1500,showConfirmButton:!1,borderRadius:"15px"}),l()}catch{n.fire("Error","Gagal menghapus part","error")}},g=m.filter(e=>e.part_number.toLowerCase().includes(s.toLowerCase())||e.part_name.toLowerCase().includes(s.toLowerCase())||e.customer_name.toLowerCase().includes(s.toLowerCase())),y=[{name:"NO",cell:(e,r)=>r+1,width:"70px",center:!0,style:{fontWeight:"700",color:"#64748b"}},{name:"PART NUMBER",selector:e=>e.part_number,sortable:!0,cell:e=>t.jsx("span",{style:{fontWeight:"800",color:"#1e293b",letterSpacing:"-0.3px"},children:e.part_number})},{name:"PART NAME",selector:e=>e.part_name,sortable:!0,cell:e=>t.jsx("span",{style:{fontWeight:"600",color:"#475569"},children:e.part_name})},{name:"CUSTOMER",selector:e=>e.customer_name,sortable:!0,cell:e=>t.jsx("span",{style:{backgroundColor:"#eff6ff",color:"#1d4ed8",padding:"4px 10px",borderRadius:"8px",fontSize:"0.75rem",fontWeight:"700"},children:e.customer_name})},{name:"PACKING TYPE",selector:e=>e.packing_type,sortable:!0,cell:e=>t.jsx("span",{style:{fontSize:"0.8rem",fontWeight:"500"},children:e.packing_type||"-"})},{name:"ISI",selector:e=>e.qty_per_pack,width:"60px",center:!0,cell:e=>t.jsx("span",{style:{fontWeight:"700"},children:e.qty_per_pack})},{name:"OCT-25",selector:e=>e.oct_25,width:"80px",center:!0,cell:e=>t.jsx("span",{style:{color:"#475569",fontWeight:"600"},children:e.oct_25.toLocaleString()})},{name:"NOV-25",selector:e=>e.nov_25,width:"80px",center:!0,cell:e=>t.jsx("span",{style:{color:"#475569",fontWeight:"600"},children:e.nov_25.toLocaleString()})},{name:"DEC-25",selector:e=>e.dec_25,width:"80px",center:!0,cell:e=>t.jsx("span",{style:{color:"#475569",fontWeight:"600"},children:e.dec_25.toLocaleString()})},{name:"JAN-26",selector:e=>e.jan_26,width:"80px",center:!0,cell:e=>t.jsx("span",{style:{color:"#475569",fontWeight:"600"},children:e.jan_26.toLocaleString()})},{name:"FEB-26",selector:e=>e.feb_26,width:"80px",center:!0,cell:e=>t.jsx("span",{style:{color:"#475569",fontWeight:"600"},children:e.feb_26.toLocaleString()})},{name:"L/T",selector:e=>e.lead_time,width:"60px",center:!0,cell:e=>t.jsx("span",{style:{fontWeight:"700",color:"#059669"},children:e.lead_time})},{name:"ACTUAL",selector:e=>e.actual,width:"80px",center:!0,cell:e=>t.jsx("span",{style:{fontWeight:"700",color:"#dc2626"},children:e.actual})},{name:"AKSI",width:"100px",center:!0,cell:e=>t.jsxs("div",{style:{display:"flex",gap:"8px"},children:[t.jsx(i,{size:"sm",color:"warning",style:{borderRadius:"8px",color:"white",display:"flex",alignItems:"center",justifyContent:"center",width:"32px",height:"32px",padding:0,boxShadow:"0 4px 6px rgba(245, 158, 11, 0.2)"},onClick:()=>c(`/parts/edit/${e.id}`),children:t.jsx(o,{icon:v,size:"sm"})}),t.jsx(i,{size:"sm",color:"danger",style:{borderRadius:"8px",color:"white",display:"flex",alignItems:"center",justifyContent:"center",width:"32px",height:"32px",padding:0,boxShadow:"0 4px 6px rgba(239, 68, 68, 0.2)"},onClick:()=>u(e.id),children:t.jsx(o,{icon:T,size:"sm"})})]})}],b={headRow:{style:{backgroundColor:"#3b82f6",color:"white",borderRadius:"12px 12px 0 0",minHeight:"50px"}},headCells:{style:{color:"white",fontWeight:"800",fontSize:"0.8rem",letterSpacing:"0.5px"}},rows:{style:{minHeight:"60px","&:not(:last-of-type)":{borderBottomStyle:"solid",borderBottomWidth:"1px",borderBottomColor:"#f1f5f9"}}},pagination:{style:{borderRadius:"0 0 12px 12px",borderTop:"1px solid #f1f5f9"}}};return t.jsxs("div",{style:{padding:"24px",backgroundColor:"#f8fafc",minHeight:"100vh"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"25px"},children:[t.jsxs("div",{children:[t.jsxs("h4",{style:{fontWeight:"800",color:"#1e293b",margin:0,fontSize:"1.5rem",letterSpacing:"-0.5px",display:"flex",alignItems:"center",gap:"12px"},children:[t.jsx(o,{icon:S,size:"xl",style:{color:"#3b82f6"}})," MASTER DATA PART"]}),t.jsx("p",{style:{color:"#64748b",margin:"5px 0 0 0",fontWeight:"500"},children:"Manajemen daftar Part Number dan Part Name"})]}),t.jsxs(i,{color:"primary",onClick:()=>c("/parts/add"),style:{borderRadius:"12px",padding:"10px 24px",fontWeight:"700",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.25)",display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx(o,{icon:_})," TAMBAH PART BARU"]})]}),t.jsx(R,{style:{borderRadius:"20px",border:"none",boxShadow:"0 10px 30px rgba(0,0,0,0.03)",overflow:"hidden"},children:t.jsxs(W,{style:{padding:"25px"},children:[t.jsxs("div",{style:{position:"relative",marginBottom:"25px",maxWidth:"400px"},children:[t.jsx(o,{icon:B,style:{position:"absolute",left:"15px",top:"50%",transform:"translateY(-50%)",color:"#94a3b8"}}),t.jsx(k,{style:{padding:"12px 12px 12px 45px",borderRadius:"12px",border:"1px solid #e2e8f0",backgroundColor:"#f8fafc",fontSize:"0.95rem",fontWeight:"500",outline:"none",transition:"all 0.2s"},placeholder:"Cari berdasarkan Part Number, Name, atau Customer...",value:s,onChange:e=>h(e.target.value)})]}),t.jsx(w,{columns:y,data:g,pagination:!0,striped:!0,highlightOnHover:!0,responsive:!0,progressPending:f,progressComponent:t.jsx(j,{color:"primary"}),customStyles:b})]})})]})};export{q as default};
